<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Count number of degree-days"><title>Count number of degree-days — count_degree_days • tgc</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Count number of degree-days — count_degree_days"><meta property="og:description" content="Count number of degree-days"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tgc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Count number of degree-days</h1>
      
      <div class="d-none name"><code>count_degree_days.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Count number of degree-days</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">count_degree_days</span><span class="op">(</span></span>
<span>  <span class="va">dat</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  growing_days <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  heat_threshold <span class="op">=</span> <span class="fl">18</span>,</span>
<span>  n_hours <span class="op">=</span> <span class="fl">24</span>,</span>
<span>  trend_threshold <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  superchill_threshold <span class="op">=</span> <span class="op">-</span><span class="fl">0.7</span>,</span>
<span>  max_season <span class="op">=</span> <span class="fl">540</span>,</span>
<span>  full_season <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  rm_gap_days <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  gap_length <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  gap_warning <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>dat</dt>
<dd><p>Data frame with at least three columns: <code>TIMESTAMP</code> (must be
possible to convert to POSIXct), <code>DEPTH</code>, and <code>VALUE</code>. If column
<code>VARIABLE</code> is included, it must have one unique entry. May also
include columns with grouping variables passed to <code>...</code>. Other columns
will be ignored.</p></dd>


<dt>...</dt>
<dd><p>Additional columns in <code>dat</code> to use as grouping variables.
Results are automatically grouped by <code>SEASON</code> and <code>DEPTH</code>.</p></dd>


<dt>growing_days</dt>
<dd><p>Optional dataframe including columns <code>DEPTH</code>,
<code>SEASON</code>, <code>...</code> (if required) and n_growing_days. If not
provided, it will be calculated using the <code>count_growing_days</code>
function.</p></dd>


<dt>heat_threshold</dt>
<dd><p>The threshold for heat stress. Default is
<code>heat_threshold = 18</code>). Every observation above <code>heat_threshold</code>
triggers an <code>n-hour</code> heat stress interval.</p></dd>


<dt>n_hours</dt>
<dd><p>Length of heat stress interval in hours (default is
<code>n_hours = 24</code>).</p></dd>


<dt>trend_threshold</dt>
<dd><p>The threshold for "trending up". Default is
<code>trend_threshold = 4</code>. The last observation above
<code>trend_threshold</code> that does not return below <code>trend_threshold</code>
triggers the beginning of the growing season for each <code>DEPTH</code> and
group in <code>...</code>.</p></dd>


<dt>superchill_threshold</dt>
<dd><p>The threshold for "superchill". Default is
<code>superchill_threshold = -0.7</code>. The first observation below
<code>superchill_threshold</code> triggers the end of the growing season for each
group in <code>DEPTH</code> and <code>...</code>.</p></dd>


<dt>max_season</dt>
<dd><p>The length of the growing season in months for groups that
have no temperature observations below <code>superchill_threshold</code>. Default
is <code>max_season = 540</code> days (~18 months). Note: units are days because
adding 18 months to August 30 or August 31 results in <code>NA</code> (because
February 30 and February 31 are not real dates).</p></dd>


<dt>full_season</dt>
<dd><p>Logical argument. The default, <code>full_season = TRUE</code>
will only return data for groups with a full season of data (e.g.,
<code>START_SEASON</code> and <code>END_SEASON</code> as returned by
<code>identify_growing_seasons(dat, full_season = TRUE)</code> are both NOT
<code>NA</code>).</p>
<p>If <code>full_season = FALSE</code>, data for all groups will be returned;
the <code>START_SEASON</code> and <code>END_SEASON</code> dates default to the first
and last timestamp in <code>...</code> and <code>DEPTH</code>.</p></dd>


<dt>rm_gap_days</dt>
<dd><p>Logical argument indicating whether to remove days with
data gaps when counting n_growing_days.</p></dd>


<dt>gap_length</dt>
<dd><p>The length of time in hours to consider a sampling gap.
Default is gap_length = 2 hours, which is twice the sampling interval of
the least frequent sensor. The total sample gap length (sum of all sample
gaps) is subtracted from the number of stocked days to calculate the number
of growing days.</p></dd>


<dt>gap_warning</dt>
<dd><p>The length of time in hours to consider a substantial
sampling gap. A warning can be printed if any gaps exceed this duration.
Default is <code>gap_warning = 6</code> hours.</p></dd>


<dt>quiet</dt>
<dd><p>Logical argument to suppress Warning message when gap lengths
exceed <code>gap_warning</code>. If <code>quiet = TRUE</code>, the Warning will not be
printed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Returns a tibble with columns:</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Degree-days = average temperature over <em>n</em> days * <em>n</em> days</p>
<p><em>n</em> is the number of days suitable for growth (from
<code><a href="count_growing_days.html">count_growing_days()</a></code>).</p>
<p>Results are grouped by <code>SEASON</code>, <code>DEPTH</code>, and <code>...</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Danielle Dempsey</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Danielle Dempsey.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

